<div data-ng-include data-src="'/static/app/templates/breadcrumbs.html'"></div>

<div class="modal-header">
    <h3 class="modal-title">
      <button class="btn btn-default" ng-click="editTitleForm.$show()" ng-hide="editTitleForm.$visible">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
      </button>
      <span editable-text="ic.CourseCache.current_image.title" e-form="editTitleForm" onbeforesave="ic.save()">{{ ic.CourseCache.current_image.title || "Click to add a Title" }}</span>
    </h3>
    <pp>
      <button class="btn btn-default" ng-click="editDescForm.$show()" ng-hide="editDescForm.$visible">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
      </button>
      <span editable-text="ic.CourseCache.current_image.description" e-form="editDescForm" onbeforesave="ic.save()">{{ ic.CourseCache.current_image.description || "Click to add a Description" }}</span>
    </pp>
    <ul class="list-unstyled">
      <li ng-repeat="meta in ic.image.metadata track by $index">

        <strong editable-text="meta.label" onbeforesave="ic.saveMetadata(meta.label, meta.value, $index)">{{ meta.label || "No Value" }}</strong>:
        <span editable-text="meta.value" onbeforesave="ic.saveMetadata(meta.label, meta.value, $index)">{{ meta.value || "No Value" }}</span>

      </li>
      <li ng-hide="ic.editNewMetadata">
        <button class="btn btn-link" ng-click="ic.showNewMetadata()">New Metadata</button>
      </li>
      <li ng-show="ic.editNewMetadata">
        <form ng-submit="ic.saveMetadata()">
          <input type="text" ng-model="ic.newLabel"/>: <input type="text" ng-model="ic.newValue"/> <button class="btn btn-default" type="submit">save</button>
        </form>
      </li>
    </ul>
    <div>
      <button class="btn btn-danger pull-right" type="button" ng-click="ic.imageBehavior.deleteImageModal(ic.CourseCache.current_image.id)">Delete</button>
    </div>
</div>
<div class="modal-body">
  <div class="text-center">
    {{ ic.index + 1 }} / {{ ic.CourseCache.images.length }}
  </div>
  <div class="text-center">
    <button type="button" class="btn btn-default" aria-label="Left Align" ng-click="ic.prev()">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    </button>
    <button type="button" class="btn btn-default" aria-label="Left Align" ng-click="ic.next()">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    </button>
  </div>
  <img style="display: block; margin-left: auto; margin-right: auto; max-height: 400px;" ng-src="{{ ic.CourseCache.current_image.image_url }}"/>
</div>
<div class="modal-footer">
</div>
